import{aX as z,d as V,b as B,r as u,e as t,f as _,g as p,az as $,j as a,k as d,w as g,aD as A,aA as F,F as b,aY as D,aL as E,aM as j,n as P,aP as W,u as X,a4 as I,l as Y,v as Z,aU as q,o as G,h as N,i as f,aE as H,aV as J,m as K,aZ as O,a_ as Q,aW as ee,_ as te}from"./index-af9f8b40.js";const ae=async y=>await z.post("/feedback/add",{context:y,type:0,extra:""}),oe={"text-center":"","my-16":""},ne={"text-xl":""},se={"flex-center-center":""},le=V({__name:"Feedback",props:{typeName:null},setup(y){const T=B(),o=u(!1),n=u(""),w=()=>{n.value="",o.value=!0},l=async()=>{try{await ae(n.value),o.value=!1,D.message.success("已收到，感谢您的反馈！")}catch(i){console.warn(i)}};return(i,c)=>{const s=E,m=j,h=P,k=W;return t(),_(b,null,[p("div",oe,[p("div",ne," 老板，没有“"+$(a(T).searchVal)+"”相关的"+$(y.typeName)+"，换个关键词试试 ",1),p("div",{"mt-10":"",cursor:"",text:"#3A50FF",onClick:w}," 没有找到可用ai应用？点击向我们反馈 ")]),d(k,{show:a(o),"onUpdate:show":c[2]||(c[2]=v=>F(o)?o.value=v:null)},{default:g(()=>[d(h,{style:{width:"480px",background:"#2b2c3d","border-radius":"12px"},title:"问题与反馈",size:"huge",bordered:!1,role:"dialog","aria-modal":"true"},{footer:g(()=>[p("div",se,[d(m,{"px-7":"","mr-4":"",onClick:c[1]||(c[1]=v=>o.value=!1)},{default:g(()=>[A(" 取消 ")]),_:1}),d(m,{type:"primary","px-7":"",onClick:l},{default:g(()=>[A(" 确定 ")]),_:1})])]),default:g(()=>[d(s,{value:a(n),"onUpdate:value":c[0]||(c[0]=v=>F(n)?n.value=v:null),type:"textarea",placeholder:"请输入你的问题",bg:"#3F415B","rounded-xl":"",autosize:{minRows:8,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["show"])],64)}}}),ce={"pr-14":"","overflow-y-scroll":""},re=p("div",{"title-tags":""}," AI应用 ",-1),ue={key:0,flex:"","overflow-x-scroll":"","overflow-y-hidden":"","pb-2":""},ie={"h-75":"","flex-center-center-col":""},_e=p("div",null,"更多",-1),de={key:3,"prompt-layout":""},pe=V({name:"SearchPage"}),ve=V({...pe,setup(y){const T=X(),o=B(),n=u([]),w=async()=>{try{const e=await J();n.value=e||[]}catch(e){console.warn(e)}},l=u(0);o.tagId=0,I(()=>l.value,()=>{m(),o.tagId=l.value});const i=u([]);async function c(){try{const e=await K(0,o.searchVal);i.value=e||[]}catch(e){console.warn(e)}}const s=u([]);async function m(){try{const e=await Y(l.value,o.searchVal);s.value=e||[]}catch(e){console.warn(e)}}const h=u(!0),k=u([]),v=Z(()=>{if(s.value.length&&n.value.length&&h.value){const e=q(s.value,n.value);return k.value=e,h.value=!1,e}else return k.value});return I(()=>o.searchVal,async()=>{n.value=[],s.value=[],l.value=0,c(),await w(),await m(),h.value=!0}),G(()=>{w(),c(),m()}),(e,x)=>{const S=O,L=Q,M=P,C=le,R=ee,U=te;return t(),_("div",ce,[a(i).length||a(s).length?(t(),_(b,{key:0},[re,a(i).length?(t(),_("div",ue,[(t(!0),_(b,null,N(a(i).slice(0,20),r=>(t(),f(S,{key:r.id,"tool-info":r},null,8,["tool-info"]))),128)),d(M,{"card-more":"","mr-0":"",bordered:!1,onClick:x[0]||(x[0]=r=>a(T).push("/tool"))},{default:g(()=>[p("div",ie,[d(L,{"mb-4":""}),_e])]),_:1})])):(t(),f(C,{key:1,"type-name":"AI应用"})),a(s).length?(t(),f(R,{key:2,"active-tag":a(l),"onUpdate:activeTag":x[1]||(x[1]=r=>F(l)?l.value=r:null),"tag-list":a(v),title:"AI小工具","mt-8":""},null,8,["active-tag","tag-list"])):H("",!0),a(s).length?(t(),_("div",de,[(t(!0),_(b,null,N(a(s),r=>(t(),f(U,{key:r.id,"card-info":r},null,8,["card-info"]))),128))])):(t(),f(C,{key:4,"type-name":"AI小工具"}))],64)):(t(),f(C,{key:1,"type-name":"AI应用和AI小工具"}))])}}});export{ve as default};
