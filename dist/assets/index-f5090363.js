import{aX as z,d as $,e as B,r as u,o as a,c as d,a as m,az as A,k as o,h as i,w as f,aD as V,aA as F,F as b,aY as D,aL as j,aM as E,n as P,aP as W,u as X,a4 as I,l as Y,v as Z,aU as q,f as G,i as N,j as h,aV as H,m as J,aZ as K,a_ as O,aW as Q,_ as ee}from"./index-bbfd8c3a.js";const te=async y=>await z.post("/feedback/add",{context:y,type:0,extra:""}),ae={"text-center":"","my-16":""},oe={"text-3":"","sm:text-xl":""},ne={"flex-center-center":""},se=$({__name:"Feedback",props:{typeName:null},setup(y){const T=B(),t=u(!1),n=u(""),w=()=>{n.value="",t.value=!0},s=async()=>{if(n.value)try{await te(n.value),t.value=!1,D.message.success("已收到，感谢您的反馈！")}catch(_){console.warn(_)}};return(_,l)=>{const c=j,p=E,g=P,x=W;return a(),d(b,null,[m("div",ae,[m("div",oe," 老板，没有“"+A(o(T).searchVal)+"”相关的"+A(y.typeName)+"，换个关键词试试 ",1),m("div",{"text-3":"","sm:text-sm":"","mt-4":"","sm:mt-10":"",cursor:"",text:"#3A50FF",onClick:w}," 没有找到可用ai应用？点击向我们反馈 ")]),i(x,{show:o(t),"onUpdate:show":l[2]||(l[2]=v=>F(t)?t.value=v:null)},{default:f(()=>[i(g,{style:{background:"#2b2c3d","border-radius":"12px"},"w-66":"","sm:w-120":"",title:"问题与反馈",size:"huge",bordered:!1,role:"dialog","aria-modal":"true"},{footer:f(()=>[m("div",ne,[i(p,{"px-7":"","mr-4":"",onClick:l[1]||(l[1]=v=>t.value=!1)},{default:f(()=>[V(" 取消 ")]),_:1}),i(p,{type:"primary","px-7":"",onClick:s},{default:f(()=>[V(" 确定 ")]),_:1})])]),default:f(()=>[i(c,{value:o(n),"onUpdate:value":l[0]||(l[0]=v=>F(n)?n.value=v:null),type:"textarea",placeholder:"请输入你的问题",bg:"#3F415B","rounded-xl":"",autosize:{minRows:6,maxRows:6}},null,8,["value"])]),_:1})]),_:1},8,["show"])],64)}}}),le={"layout-right-bottom":"","overflow-y-scroll":""},ce=m("div",{"title-tags":""}," AI应用 ",-1),re={key:0,flex:"","overflow-x-scroll":"","overflow-y-hidden":"","pb-2":""},ue={"flex-center-center-col":"","h-47":"","sm:h-76":""},ie=m("div",null,"更多",-1),_e={key:2,"prompt-layout":""},de=$({name:"SearchPage"}),pe=$({...de,setup(y){const T=X(),t=B(),n=u([]),w=async()=>{try{const e=await H();n.value=e||[]}catch(e){console.warn(e)}},s=u(0);t.tagId=0,I(()=>s.value,()=>{p(),t.tagId=s.value});const _=u([]);async function l(){try{const e=await J(0,t.searchVal,1);_.value=e||[]}catch(e){console.warn(e)}}const c=u([]);async function p(){try{const e=await Y(s.value,t.searchVal,1);c.value=e||[]}catch(e){console.warn(e)}}const g=u(!0),x=u([]),v=Z(()=>{if(g.value)if(c.value.length&&n.value.length){const e=q(c.value,n.value);return x.value=e,g.value=!1,e}else return[];else return x.value});return I(()=>t.searchVal,async()=>{n.value=[],c.value=[],s.value=0,l(),await w(),await p(),g.value=!0}),G(()=>{w(),l(),p()}),(e,k)=>{const S=K,L=O,M=P,C=se,R=Q,U=ee;return a(),d("div",le,[o(_).length||o(c).length?(a(),d(b,{key:0},[ce,o(_).length?(a(),d("div",re,[(a(!0),d(b,null,N(o(_).slice(0,20),r=>(a(),h(S,{key:r.id,"tool-info":r},null,8,["tool-info"]))),128)),i(M,{"h-47":"","sm:h-76":"","card-more":"","mr-0":"",bordered:!1,onClick:k[0]||(k[0]=r=>o(T).push("/tool"))},{default:f(()=>[m("div",ue,[i(L,{"mb-4":""}),ie])]),_:1})])):(a(),h(C,{key:1,"type-name":"AI应用"})),i(R,{"active-tag":o(s),"onUpdate:activeTag":k[1]||(k[1]=r=>F(s)?s.value=r:null),"tag-list":o(v),title:"AI小工具","mt-4":"","sm:mt-8":""},null,8,["active-tag","tag-list"]),o(c).length?(a(),d("div",_e,[(a(!0),d(b,null,N(o(c),r=>(a(),h(U,{key:r.id,"card-info":r},null,8,["card-info"]))),128))])):(a(),h(C,{key:3,"type-name":"AI小工具"}))],64)):(a(),h(C,{key:1,"type-name":"AI应用和AI小工具"}))])}}});export{pe as default};
