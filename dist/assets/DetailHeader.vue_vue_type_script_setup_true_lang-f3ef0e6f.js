import{o as a,b as f,e as t,d as y,i as p,r as b,G as $,j as H,Y as w,Z as g,h as C,f as c,n as S,$ as L,w as v,g as x,t as _,m as h,I as k,a0 as B,a1 as I,F,_ as M,a2 as N,a3 as V}from"./index-b4dafc41.js";import{u as Z,c as D}from"./collect-0ee63ca3.js";const T={fill:"currentColor",width:"15",height:"15",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},W=t("path",{d:"M0.829862 7.74845L3.05486 9.37345L2.20986 11.9903C2.07331 12.3962 2.07158 12.8353 2.20493 13.2423C2.33828 13.6492 2.59958 14.0021 2.94986 14.2484C3.29414 14.5027 3.71136 14.6389 4.13933 14.6367C4.56731 14.6346 4.98314 14.4942 5.32486 14.2366L7.50049 12.6353L9.67674 14.2347C10.0204 14.4875 10.4354 14.6248 10.862 14.6269C11.2886 14.6289 11.7049 14.4957 12.051 14.2463C12.3971 13.9968 12.6552 13.6441 12.7882 13.2387C12.9212 12.8334 12.9222 12.3963 12.7911 11.9903L11.9461 9.37345L14.1711 7.74845C14.5143 7.49751 14.7695 7.14454 14.9001 6.73994C15.0307 6.33534 15.0301 5.89981 14.8984 5.49556C14.7667 5.09131 14.5106 4.73902 14.1667 4.48901C13.8229 4.239 13.4088 4.10405 12.9836 4.10345H10.2505L9.42111 1.51845C9.29069 1.11154 9.0344 0.756579 8.68922 0.504736C8.34403 0.252894 7.92778 0.117188 7.50049 0.117188C7.07319 0.117187 6.65694 0.252894 6.31176 0.504736C5.96657 0.756579 5.71029 1.11154 5.57986 1.51845L4.75049 4.10345H2.01986C1.5947 4.10405 1.18061 4.239 0.836724 4.48901C0.492842 4.73902 0.236762 5.09131 0.105063 5.49556C-0.0266369 5.89981 -0.0272199 6.33534 0.103397 6.73994C0.234014 7.14454 0.48915 7.49751 0.832362 7.74845H0.829862Z",fill:"#FFC700"},null,-1),j=[W];function z(e,n){return a(),f("svg",T,j)}const A={name:"ai-collect-star-fill",render:z},E={fill:"currentColor",width:"15",height:"15",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},G=t("path",{d:"M14.898 5.49616C14.7701 5.08922 14.5147 4.73423 14.1695 4.48368C13.8243 4.23313 13.4076 4.10033 12.9811 4.10491H10.2505L9.42111 1.51991C9.29069 1.11301 9.0344 0.758044 8.68922 0.506201C8.34403 0.254358 7.92778 0.118652 7.50049 0.118652C7.07319 0.118652 6.65694 0.254358 6.31176 0.506201C5.96657 0.758044 5.71028 1.11301 5.57986 1.51991L4.75049 4.10491H2.01986C1.5947 4.10552 1.18061 4.24046 0.836724 4.49048C0.492842 4.74049 0.236762 5.09278 0.105063 5.49703C-0.0266369 5.90128 -0.0272199 6.33681 0.103397 6.74141C0.234014 7.146 0.48915 7.49898 0.832362 7.74991L3.05486 9.37491L2.20986 11.9918C2.07331 12.3977 2.07158 12.8368 2.20493 13.2437C2.33828 13.6506 2.59958 14.0036 2.94986 14.2499C3.29414 14.5042 3.71136 14.6403 4.13933 14.6382C4.56731 14.6361 4.98314 14.4957 5.32486 14.238L7.50049 12.6368L9.67674 14.2362C10.0204 14.4889 10.4354 14.6262 10.862 14.6283C11.2886 14.6304 11.7049 14.4972 12.051 14.2477C12.3971 13.9983 12.6552 13.6456 12.7882 13.2402C12.9212 12.8349 12.9222 12.3978 12.7911 11.9918L11.9461 9.37491L14.1711 7.74991C14.5182 7.50213 14.7764 7.14916 14.9073 6.74325C15.0382 6.33734 15.0349 5.90007 14.898 5.49616ZM13.4336 6.74054L10.8436 8.63366C10.7372 8.71127 10.6581 8.82049 10.6174 8.94575C10.5768 9.071 10.5768 9.20589 10.6174 9.33116L11.6017 12.3749C11.6515 12.5293 11.6511 12.6955 11.6005 12.8496C11.5499 13.0037 11.4518 13.1378 11.3201 13.2326C11.1885 13.3275 11.0302 13.3781 10.868 13.3773C10.7058 13.3764 10.548 13.3242 10.4174 13.228L7.87049 11.353C7.76321 11.2742 7.63359 11.2317 7.50049 11.2317C7.36738 11.2317 7.23776 11.2742 7.13049 11.353L4.58361 13.228C4.45304 13.3255 4.29482 13.3788 4.1319 13.3803C3.96898 13.3818 3.80982 13.3313 3.6775 13.2363C3.54518 13.1412 3.44658 13.0065 3.39598 12.8516C3.34539 12.6967 3.34543 12.5298 3.39611 12.3749L4.38361 9.33116C4.42418 9.20589 4.42415 9.071 4.38352 8.94575C4.3429 8.82049 4.26374 8.71127 4.15736 8.63366L1.56736 6.74054C1.43693 6.64503 1.34001 6.51075 1.29045 6.35688C1.24089 6.203 1.24123 6.0374 1.29141 5.88372C1.3416 5.73005 1.43906 5.59616 1.56989 5.50119C1.70071 5.40622 1.8582 5.35503 2.01986 5.35491H5.20736C5.33968 5.35491 5.46859 5.31291 5.57552 5.23496C5.68244 5.15701 5.76187 5.04714 5.80236 4.92116L6.77111 1.90179C6.82084 1.74728 6.91831 1.61253 7.04949 1.51694C7.18067 1.42135 7.3388 1.36985 7.50111 1.36985C7.66342 1.36985 7.82155 1.42135 7.95273 1.51694C8.08391 1.61253 8.18138 1.74728 8.23111 1.90179L9.19986 4.92116C9.24035 5.04714 9.31978 5.15701 9.42671 5.23496C9.53363 5.31291 9.66254 5.35491 9.79486 5.35491H12.9824C13.144 5.35503 13.3015 5.40622 13.4323 5.50119C13.5632 5.59616 13.6606 5.73005 13.7108 5.88372C13.761 6.0374 13.7613 6.203 13.7118 6.35688C13.6622 6.51075 13.5653 6.64503 13.4349 6.74054H13.4336Z",fill:"white"},null,-1),O=[G];function U(e,n){return a(),f("svg",E,O)}const Y={name:"ai-collect-star",render:U},q=t("span",{"ml-1":"","text-3-3.5":""},"收藏",-1),J=y({__name:"CollectItem",props:{detailInfo:null},setup(e){const n=p(),r=Z(),o=b(!1),u=async()=>{var s;if(!n.username){n.showLoginModal=!0;return}const l={userId:n.username,cardId:e.detailInfo.id,cardType:e.detailInfo.type||0,collecting:!o.value};await D(l),await r.refreshWholeCollectedCard(n.username,(s=e.detailInfo)==null?void 0:s.type),await i(),o.value?L.message.success("收藏成功，可以在【个人中心-我的收藏】查看"):L.message.info("已取消收藏")};$(()=>n.username,async()=>{var l;await r.refreshWholeCollectedCard(n.username,(l=e.detailInfo)==null?void 0:l.type),i()});async function i(){var s;if(!n.username){o.value=!1;return}const l=await r.getWholeCollectedCard(n.username,(s=e.detailInfo)==null?void 0:s.type);o.value=l.filter(m=>{var d;return((d=e.detailInfo)==null?void 0:d.id)===m.id}).length>0}return H(async()=>{await i()}),(l,s)=>{const m=Y,d=A;return a(),f("div",null,[t("div",{cursor:"",border:"none","sm:border":"1 solid #fff","py-1":"","px-1-5":"","flex-center":"","rounded-1":"",style:S(C(o)?"border-color:transparent; background: #3A50FF":""),onClick:u},[w(c(m,{"wh-3-4":""},null,512),[[g,!C(o)]]),w(c(d,{"wh-3-4":""},null,512),[[g,C(o)]]),q],4)])}}}),K={"flex-center":""},P=["src"],Q={"h-21-35":"","flex-start-between-col":"","flex-1":""},R={"w-full":""},X={"flex-center":"","mb-1":""},e1={"flex-center":"","ml-1":""},t1={"text-3-sm":""},n1={"flex-center-end":""},o1={"web-only":""},l1={"mobile-only":""},i1=y({__name:"DetailHeader",props:{detailInfo:null},setup(e){return(n,r)=>{const o=M,u=N,i=V,l=J;return a(),f(F,null,[t("div",K,[t("img",{src:e.detailInfo.iconUrl,"wh-21-35":"","mr-3-6":"","rounded-2xl":"",alt:"icon"},null,8,P),t("div",Q,[t("div",R,[t("div",X,[c(o,{"max-w-30-full":"","text-4-5.5":"","line-clamp":1,tooltip:!1,"ml-1":""},{default:v(()=>[x(_(e.detailInfo.name),1)]),_:1}),e.detailInfo?(a(),h(u,{key:0,tags:e.detailInfo.tagList,"ml-1":""},null,8,["tags"])):k("",!0),t("div",e1,[c(i,{"wh-3-4":"","mr-1":""}),t("div",t1,_(C(B)(e.detailInfo.heat)),1)]),(a(),h(l,{key:e.detailInfo.id,"web-only":"","ml-auto":"","detail-info":e.detailInfo},null,8,["detail-info"]))]),c(o,{"title-brief":"","line-clamp":3,tooltip:!1},{default:v(()=>[x(_(e.detailInfo.brief),1)]),_:1}),t("div",n1,[(a(),h(l,{key:e.detailInfo.id,"mobile-only":"","ml-auto":"","detail-info":e.detailInfo},null,8,["detail-info"]))])]),t("div",o1,[I(n.$slots,"web-footer")])])]),t("div",l1,[I(n.$slots,"mobile-footer")])],64)}}});export{i1 as _};
